@mixin hu-parent($class-name, $parent-selectors, $modules: (base)) {
  $modules: hu-format-modules($modules);

  @each $module in $modules {
    @each $parent in $parent-selectors {
      $escaped-parent: hu-escape-class-name($parent);

      @if ($module == base) {
        .#{$escaped-parent} .#{$escaped-parent}__#{$class-name} {
          @content;
        }
      }

      @else if ($module == focus) {
        #{$hu-hocus-focus-prefix} .#{$escaped-parent}#{$hu-hocus-focus-pseudo} .#{$escaped-parent}__focus--#{$class-name} {
          @content;
        }
      }

      @else if ($module == hover) {
        .#{$escaped-parent}:hover .#{$escaped-parent}__hover--#{$class-name} {
          @content;
        }
      }

      @else if ($module == hocus) {
        #{$hu-hocus-focus-prefix} .#{$escaped-parent}#{$hu-hocus-focus-pseudo} .#{$escaped-parent}__hocus--#{$class-name},
        .#{$escaped-parent}:hover .#{$escaped-parent}__hocus--#{$class-name} {
          @content;
        }
      }

      @else if ($module == state) {
        @each $state in $hu-states {
          .#{$escaped-parent}.#{$state} .#{$escaped-parent}__#{$state}--#{$class-name} {
            @content;
          }
        }
      }

      @else if ($module == reduced-motion) {
        @media (prefers-reduced-motion: reduce) {
          .#{$escaped-parent} .#{$escaped-parent}__reduced-motion--#{$class-name} {
            @include hu-bump-specificity {
              @content;
            }
          }
        }
      }

      @else if ($module == print) {
        @media print {
          .#{$escaped-parent} .#{$escaped-parent}__print--#{$class-name} {
            @include hu-bump-specificity {
              @content;
            }
          }
        }
      }
    }
  }

  @if index($modules, responsive) {
    @each $bp-scale, $bp-value in $hu-breakpoints {
      @media (min-width: $bp-value) {
        @each $parent in $parent-selectors {
          $escaped-parent: hu-escape-class-name($parent);

          .#{$escaped-parent} .#{$escaped-parent}__bp-#{$bp-scale}--#{$class-name} {
            @content;
          }

          @if (index($modules, state)) {
            @each $state in $hu-states {
              .#{$escaped-parent}.#{$state} .#{$escaped-parent}__bp-#{$bp-scale}-#{$state}--#{$class-name} {
                @content;
              }
            }
          }
        }
      }
    }
  }
}